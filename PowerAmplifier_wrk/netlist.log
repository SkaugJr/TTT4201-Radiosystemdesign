; Top Design: "PowerAmplifier_lib:SP_NF_GainMatchK:schematic"
; Netlisted using Hierarchy Policy: "Standard"

Options ResourceUsage=yes UseNutmegFormat=no EnableOptim=no TopDesignName="PowerAmplifier_lib:SP_NF_GainMatchK:schematic" DcopOutputNodeVoltages=yes DcopOutputPinCurrents=yes DcopOutputAllSweepPoints=no DcopOutputDcopType=0
; Library Name: PowerAmplifier_lib
; Cell Name: PA
; View Name: schematic
define PA ( "DC-VD"  "DC-VG"  "RF-in"  "RF-out" ) 
;parameters 
#uselib "MA_RFP_ADS_v1p5" , "CG2H40010F_v2"
"CG2H40010F_v2":X1  N__2 N__6 0 Rth=7.83 Tbase=25 VDN=28 x1=1 x2=1 
R:R1  N__5 N__2 R=27 Ohm Noise=yes 
C:C1  N__5 N__2 C=1.0 pF 
Short:DC_Feed1  N__5 "DC-VG" Mode=-1 
Short:DC_Feed2  "DC-VD" N__6 Mode=-1 
Short:DC_Block1  "RF-in" N__5 Mode=1 
Short:DC_Block2  N__6 "RF-out" Mode=1 
end PA

S_Param:SP1 CalcS=yes CalcGroupDelay=yes GroupDelayAperture=1e-4 FreqConversion=no FreqConversionPort=1 StatusLevel=2 CalcNoise=no SortNoise=0 BandwidthForNoise=1.0 Hz DevOpPtLevel=0 SPSS_WSP=yes \
SweepVar="freq" SweepPlan="SP1_stim" OutputPlan="SP1_Output" 

SweepPlan: SP1_stim Start=0.1 GHz Stop=6 GHz Step=0.05 GHz 

OutputPlan:SP1_Output \
      Type="Output" \
      UseEquationNestLevel=yes \
      EquationNestLevel=2 \
      EquationName[1]="Z0" \
      UseSavedEquationNestLevel=yes \
      SavedEquationNestLevel=2

#load "python","LinearCollapse"
Component Module="LinearCollapse" Type="ModelExtractor" NetworkRepresentation=2

Z0=50
Port:Term1  N__1 0 Num=1 Z=Z0 Noise=yes 
Port:Term2  N__2 0 Num=2 Z=Z0 Noise=yes 

Options:Options1 Temp=16.85 Tnom=25 TopologyCheck=yes ForceS_Params=yes V_RelTol=1e-6  \
I_RelTol=1e-6 GiveAllWarnings=yes MaxWarnings=10 ForceM_Params=yes DC_ReadInitialGuess=no  \
DC_WriteFinalSolution=no TopologyCheckMessages=no GPU=no doDeltaAC=no ReduceSPort=no  \
ReduceSPortRatio=0.5 WarnSOA=yes MaxWarnSOA=5 Census=no MinNodalR=1e-2 Ohm  \
LargeCapThreshold=1e-3 F EnableAssertChecks=no EnableSpareRemoval=yes 

aele mu_load=mu(S);mu_source=mu_prime(S);match_input=sm_gamma1(S);Source_stabcir=s_stab_circle(S,51);Load_stabcir=l_stab_circle(S,51);
PA:X1  N__6 N__0 N__1 N__2 
V_Source:SRC1  N__0 0 Type="V_DC" Vdc=-2.8 V SaveCurrent=1 
V_Source:SRC2  N__6 0 Type="V_DC" Vdc=28 V SaveCurrent=1 
